(this["webpackJsonpreact-template-hooks"]=this["webpackJsonpreact-template-hooks"]||[]).push([[0],{260:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(0),c=n.n(a),r=n(22),i=n.n(r),o=n(5),d=n(4),l=n.n(d),u=n(7),j=n(114),b=n.n(j).a.create({baseURL:"http://15.207.171.126/api/"}),m=n(8);var x=function(e){var t=Object(m.e)(e);function n(){return(n=Object(u.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("Logout"!==e.label){n.next=11;break}return n.next=3,b.post("/logout");case 3:if("Success"!==n.sent.data.status){n.next=9;break}return n.next=7,localStorage.clear();case 7:e.setIsLoggedIn(!1),t.replace("/login");case 9:n.next=12;break;case 11:t.replace("/login");case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){!function(){n.apply(this,arguments)}(e)},className:"btn btn-primary",children:e.label})})};var p=function(){var e=Object(a.useContext)(we),t=e.setShow,n=e.setMsg,c=Object(m.e)(),r=Object(m.f)(),i=Object(a.useState)(!0),d=Object(o.a)(i,2),l=d[0],u=d[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),p=b[0],h=b[1],O=Object(a.useState)(!1),v=Object(o.a)(O,2),f=v[0],g=v[1];return Object(a.useEffect)((function(){var e=r.pathname,t="/ /login /register".split(" ").find((function(t){return t===e}));"/startexam"===e?(g(!0),u(!0),document.body.classList.add("sb-sidenav-toggled"),document.body.classList.remove("sb-nav-fixed")):(g(!1),u(!1),document.body.classList.add("sb-nav-fixed"),document.body.classList.remove("sb-sidenav-toggled")),h(e!==t)}),[r,c,t,n]),f?null:Object(s.jsxs)("nav",{className:"sb-topnav navbar navbar-expand navbar-dark bg-dark",children:[Object(s.jsx)("a",{className:"navbar-brand",href:void 0,children:"GudExams"}),Object(s.jsx)("button",{className:"btn btn-link btn-sm order-1 order-lg-0",id:"sidebarToggle",onClick:function(){!function(e,t){e(!t),t?(document.body.classList.add("sb-nav-fixed"),document.body.classList.remove("sb-sidenav-toggled")):(document.body.classList.add("sb-sidenav-toggled"),document.body.classList.remove("sb-nav-fixed"))}(u,l)},children:Object(s.jsx)("i",{className:"fas fa-bars"})}),Object(s.jsx)("form",{className:"d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0",children:Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{className:"form-control",type:"text",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{className:"btn btn-primary",type:"button",children:Object(s.jsx)("i",{className:"fas fa-search"})})})]})}),p?Object(s.jsx)(x,{url:"/logout",label:"Logout",setIsLoggedIn:h}):Object(s.jsx)(x,{url:"/login",label:"Login"})]})};var h=function(){return Object(s.jsx)("nav",{className:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion",children:Object(s.jsx)("div",{className:"sb-sidenav-menu",children:Object(s.jsxs)("div",{className:"nav",children:[Object(s.jsx)("div",{className:"sb-sidenav-menu-heading",children:"Menu"}),Object(s.jsxs)("a",{className:"nav-link",href:"/",children:[Object(s.jsx)("div",{className:"sb-nav-link-icon",children:Object(s.jsx)("i",{className:"fas fa-tachometer-alt"})}),"Home"]})]})})})};var O=function(){return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"d-flex align-items-center justify-content-between small",children:[Object(s.jsx)("div",{className:"text-muted",children:"Copyright \xa9 Your Website 2020"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("a",{href:"_blank",children:"Privacy Policy"}),"\xb7",Object(s.jsx)("a",{href:"_blank",children:"Terms & Conditions"})]})]})})},v=n(122),f=n(32),g=n(124);function w(e){var t=Object(m.e)(),n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1],d=Object(a.useState)(),l=Object(o.a)(d,2),u=l[0],j=l[1],b=Object(a.useState)(),x=Object(o.a)(b,2),p=x[0],h=x[1];return Object(a.useEffect)((function(){return function(e){return N.apply(this,arguments)}(i)}),[]),void 0!==r&&Object(s.jsx)(v.a,{initialValues:{username:"",password:"",flag:r,instId:""},onSubmit:function(e,n){n.setSubmitting;void 0!==u&&function(e,t,n,s,a,c,r){y.apply(this,arguments)}(e.username,e.password,e.instId,r,u,h,t)},validationSchema:f.b().shape({username:f.c().required("Username Required"),password:f.c().required("Password is Required"),flag:f.a(),instId:f.c().when("flag",{is:0,then:f.c().required("Inst ID is Required")})}),children:function(e){var t=e.values,n=e.touched,a=e.errors,c=e.isSubmitting,i=e.handleChange,o=e.handleBlur,d=e.handleSubmit;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{className:"col-lg-5",children:Object(s.jsxs)("div",{className:"card shadow-lg border-0 rounded-lg mt-5",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h3",{className:"text-center font-weight-light my-4",children:"GudExams Login"})}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("form",{onSubmit:d,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"User Name"}),Object(s.jsx)("input",{className:"form-control py-4",id:"username",type:"text",value:t.userame,placeholder:"Enter User Name",onChange:i,onBlur:o,class1name:a.username&&n.username&&"error"}),a.username&&n.username&&Object(s.jsx)("div",{className:"alert alert-info",children:a.username})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"form-group",children:"Password"}),Object(s.jsx)("input",{className:"form-control py-4",id:"password",type:"password",value:t.password,placeholder:"Enter password",onChange:i,onBlur:o,class1name:a.password&&n.password&&"error"}),a.password&&n.password&&Object(s.jsx)("div",{className:"alert alert-info",children:a.password})]}),0===r&&Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"form-group",children:"Inst ID"}),Object(s.jsx)("input",{className:"form-control py-4",id:"instId",type:"instId",value:t.instId,placeholder:"Enter Institute ID",onChange:i,onBlur:o,class1name:a.instId&&n.instId&&"error"}),a.instId&&n.instId&&Object(s.jsx)("div",{className:"alert alert-info",children:a.instId})]}),Object(s.jsx)(g.a,{name:"myRecaptcha",id:"myRecaptcha",sitekey:"6Lcq1t4ZAAAAAKJJI5QBF89XGNTDBIAODpcaJgOo",onChange:function(e){return j(e)}}),Object(s.jsx)("div",{className:"form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:Object(s.jsx)("button",{className:"btn btn-primary",type:"submit",id:"submit",disabled:c,children:"Login"})}),Object(s.jsx)("br",{}),void 0!==p&&Object(s.jsx)("div",{className:"alert alert-success",children:p})]})}),Object(s.jsx)("div",{className:"card-footer text-center",children:Object(s.jsx)("div",{className:"small",children:Object(s.jsx)("a",{href:"/register",children:"Need an account? Sign up!"})})})]})})})})})}})}function y(){return(y=Object(u.a)(l.a.mark((function e(t,n,s,a,c,r,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/login",{username:t,password:n,inst_id:s,flag:a,myRecaptcha:c}).then((function(e){"success"===e.data.status?(localStorage.setItem("token",JSON.stringify(e.data.token)),i.replace("/studenthome")):r(e.data.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/settings",{params:{type:"login"}});case 2:"success"===(n=e.sent).data.status&&t(n.data.flag);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){return Object(s.jsxs)("div",{className:"col-lg-2",style:{fontSize:"10px"},children:[Object(s.jsx)("center",{children:Object(s.jsx)("button",{type:"button",className:"btn btn-"+e.color,children:e.count})}),Object(s.jsx)("center",{children:e.label})]})},k=n(12),S=n(75),q=n.n(S);function E(){var e=new Date,t=e.toLocaleDateString(void 0),n=e.toLocaleDateString(void 0,{timeZoneName:"long"}),s=n.indexOf(t);return s>=0?(n.substring(0,s)+n.substring(s+t.length)).replace(/^[\s,.\-:;]+|[\s,.\-:;]+$/g,""):n}var Q=function(e){var t,n,a,c,r,i="",o="",d="",l="",u="";t=e.exam.paper.from_date,(n=e.exam.paper.to_date)<(r=e.exam.now)?u="expired":"inprogress"===e.exam.examstatus&&(u="inprogress"),"over"===e.exam.examstatus&&(u=e.exam.examstatus);var j=e.exam.paper.paper_name;a=e.exam.paper.questions,c=e.exam.paper.duration,"over"===u||"expired"===u?("over"===u?(i="Completed",o="text-white bg-success",d="btn btn-secondary"):(i="Expired",o="bg-danger",d="btn btn-danger"),l=Object(s.jsx)(k.a,{to:void 0,className:d,onClick:function(e){return e.preventDefault()},children:i})):""!==u&&"inprogress"!==u||(""===u?(i="Start Exam",o="text-white bg-dark",d="btn btn-primary",t>r?(i="Coming Soon",o="bg-warning",d="btn btn-warning",l=Object(s.jsx)(k.a,{to:void 0,className:d,children:i})):l=Object(s.jsx)(k.a,{to:{pathname:"/instructions",state:e.exam},className:d,children:i})):(i="Continue Exam",o="text-white bg-primary",d="btn btn-success",l=Object(s.jsx)(k.a,{to:{pathname:"/instructions",state:e.exam},className:d,children:i})));var b={btnCaption:i,paperName:j,startTime:t,endTime:n,totQuestions:a,examDuration:c,theme:o,btnTheme:d};return Object(s.jsx)("div",{className:"col-lg-4",children:Object(s.jsxs)("div",{className:"card",style:{minHeight:"400px",margin:"10px"},children:[Object(s.jsx)("div",{className:"card-header "+b.theme,children:Object(s.jsx)("b",{children:b.paperName})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h6",{className:"card-title",children:Object(s.jsx)("b",{children:"Exam Details"})}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:["Start Time      : ",Object(s.jsx)(q.a,{format:"MMMM Do YYYY, H:mm:ss A",children:b.startTime})]}),Object(s.jsxs)("li",{children:["End Time        : ",Object(s.jsx)(q.a,{format:"MMMM Do YYYY, H:mm:ss A",children:b.endTime})]}),Object(s.jsxs)("li",{children:["Time Zone: ",E()," ",Intl.DateTimeFormat().resolvedOptions().timeZone]}),Object(s.jsxs)("li",{children:["No of Questions : ",b.totQuestions]}),Object(s.jsxs)("li",{children:["Exam Duration   : ",b.examDuration]})]})]}),Object(s.jsx)("div",{className:"card-footer",children:Object(s.jsx)("center",{children:l})})]})})};var C=function(){var e=Object(a.useState)({loading:!0,myExams:null,numExams:0,compExams:0,yetToStartExam:0,resumeExam:0,expiredExam:0}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){!function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,s,a,r,i,o,d,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/exam");case 2:return t=e.sent,e.next=5,t.data;case 5:n=e.sent,s=n.data,{},a=s.sort((function(e,t){return e.paper.from_date-t.paper.from_date})),r=0,i=0,o=0,d=0,u="",j="",Object.keys(a).forEach((function(e){u=a[e].paper.to_date,j=a[e].now,"over"===a[e].examstatus?r+=1:""===a[e].examstatus?u<j?d+=1:i+=1:"inprogress"===a[e].examstatus?u<j?d+=1:o+=1:"expired"===a[e].examstatus&&(d+=1)})),c({loading:!1,myExams:n,numExams:n.data.length,compExams:r,yetToStartExam:i,resumeExam:o,expiredExam:d});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),n.loading?"":Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("h1",{className:"mt-4",children:"Student Home"}),Object(s.jsx)("ol",{className:"breadcrumb mb-4",children:Object(s.jsx)("li",{className:"breadcrumb-item active",children:"Student Home"})}),Object(s.jsxs)("div",{className:"row col-lg-12",children:[Object(s.jsx)(I,{count:n.numExams,label:"All",color:"danger"}),Object(s.jsx)(I,{count:n.compExams,label:"Compleated",color:"success"}),Object(s.jsx)(I,{count:n.yetToStartExam,label:"Yet To Start",color:"warning"}),Object(s.jsx)(I,{count:n.resumeExam,label:"Resume",color:"primary"}),Object(s.jsx)(I,{count:n.expiredExam,label:"Expired",color:"info"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"row col-lg-12",children:n.myExams?n.myExams.data.map((function(e){return Object(s.jsx)(Q,{exam:e},e.id)})):null}),Object(s.jsx)("br",{})]})})};function M(){return(M=Object(u.a)(l.a.mark((function e(t,n,s){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,T(n);case 3:if(!e.sent){e.next=10;break}return e.next=6,L(n);case 6:(c=e.sent)&&(a={exam:n,questions:c,currentQuestionIndex:0,solvedQuestionIndexes:P(c,"answered"),unsolvedQuestionIndexes:P(c,"unanswered"),markedSolvedIndexes:P(c,"answeredandreview"),markedUnsolvedIndexes:P(c,"unansweredandreview")},s(!0),t.replace("/startexam",a)),e.next=11;break;case 10:s(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,b.put("/exam/"+n,{status:"start"});case 3:if("success"!==e.sent.data.status){e.next=8;break}return e.abrupt("return",1);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark((function e(t){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,b.get("/answer",{params:{exam_id:n}});case 3:if("success"!==(s=e.sent).data.status){e.next=8;break}return e.abrupt("return",s.data.data);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){var n=[];return e.forEach((function(e,s){e.answered===t&&n.push(s)})),n}var A=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),d=Object(o.a)(i,2),l=d[0],u=d[1],j=Object(m.e)(),b=function(){var e=Object(m.e)(),t=Object(m.f)(),n=Object(a.useState)(),s=Object(o.a)(n,2),c=s[0],r=s[1],i=void 0;return t.state&&(i=t.state),Object(a.useEffect)((function(){i?r(i):e.replace("/studenthome")}),[i,e]),c}(),x="",p="";return b&&(x="inprogress"===b.examstatus?"Continue Exam":"Start Exam",p=0===b.paper.negative_marks?"No":"Yes"),b?Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("h1",{className:"mt-4",children:"Exam Instructions"}),Object(s.jsx)("ol",{className:"breadcrumb mb-4",children:Object(s.jsx)("li",{className:"breadcrumb-item active",children:"Read Instructions Carefully..."})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header bg-primary",style:{color:"white"},children:Object(s.jsx)("h5",{children:Object(s.jsxs)("b",{children:[b.paper.paper_name," Instructions"]})})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[" Welcome to Online Exam for ",b.paper.paper_name]}),Object(s.jsxs)("li",{children:[" Exam has total ",b.paper.questions," Questions"]}),Object(s.jsxs)("li",{children:[" Total time for Exam is ",b.paper.duration," Mins"]}),Object(s.jsxs)("li",{children:[" Negative Marking Exam: ",Object(s.jsx)("b",{children:p})]})]}),Object(s.jsx)("h1",{children:Object(s.jsx)("i",{children:"Best of Luck for your Exam"})})]}),Object(s.jsx)("div",{className:"card-footer",children:Object(s.jsxs)("center",{children:[Object(s.jsx)("input",{type:"checkbox",id:"read",name:"read",defaultChecked:c,onChange:function(){return r(!c)}})," \xa0\xa0I have read and understood instructions.",Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{disabled:!c,onClick:function(){return function(e,t,n){return M.apply(this,arguments)}(j,b,u)},className:"btn btn-success",children:x})]})})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{children:!l&&Object(s.jsx)("div",{className:"alert alert-info",children:"Problem Starting Examination"})})]})}):""},D=n(51),R=n(76),B=n(52),Y=n.n(B),z=n(53);n(113);function H(e,t,n){return t[e]===n}var J=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i="",d="",l="",u="",j=e.data.questions.location.state.currentQuestionIndex,b=e.selectedOptions;return e.opt&&(i=e.opt.split(":$:")[0],d=e.opt.split(":$:")[1]),e.optimage&&(l=e.optimage.split(":$:")[0],d=e.optimage.split(":$:")[1],u="http://15.207.171.126/"+l),Object(s.jsxs)("div",{className:"col-lg-12 row",children:[Object(s.jsx)("div",{className:"col-lg-1",children:Object(s.jsx)("input",{checked:H(j,b,d),type:"radio",name:"option",value:d,onChange:function(){e.setMyOption(d)}})}),Object(s.jsx)("div",{className:"col-lg-11",children:Object(s.jsx)(Y.a,{math:i})}),c&&Object(s.jsx)(z.a,{mainSrc:u,onCloseRequest:function(){return r(!1)}}),Object(s.jsx)("img",{src:u,alt:"",onClick:function(){return r(!0)}})]})};var $=function(e){var t=e.questions.location.state.questions,n=e.questions.location.state.currentQuestionIndex,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],d=r[1],l="",u="";return t[n].question.qu_fig?(l=t[n].question.question,u="http://15.207.171.126/"+t[n].question.qu_fig):l=t[n].question.question,Object(s.jsxs)("div",{className:"col-lg-12 row",children:[Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsxs)("b",{children:["Question ",t[n].qnid_sr,":"]})}),Object(s.jsxs)("div",{className:"col-lg-12",style:{height:"200px",overflow:"auto"},children:[Object(s.jsx)(Y.a,{math:l}),Object(s.jsx)("br",{}),i&&Object(s.jsx)(z.a,{mainSrc:u,onCloseRequest:function(){return d(!1)}}),Object(s.jsx)("img",{src:u,alt:"",onClick:function(){return d(!0)}})]}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("hr",{})}),Object(s.jsxs)("div",{className:"col-lg-12",style:{height:"190px",overflow:"auto"},children:[Object(s.jsx)(J,{id:"optiona",opt:t[n].question.optiona,optimage:t[n].question.a1,qu:t[n],setMyOption:e.setMyOption,data:e,selectedOptions:e.selectedOptions}),Object(s.jsx)(J,{id:"optionb",opt:t[n].question.optionb,optimage:t[n].question.a2,qu:t[n],setMyOption:e.setMyOption,data:e,selectedOptions:e.selectedOptions}),Object(s.jsx)(J,{id:"optionc",opt:t[n].question.optionc,optimage:t[n].question.a3,qu:t[n],setMyOption:e.setMyOption,data:e,selectedOptions:e.selectedOptions}),Object(s.jsx)(J,{id:"optiond",opt:t[n].question.optiond,optimage:t[n].question.a4,qu:t[n],setMyOption:e.setMyOption,data:e,selectedOptions:e.selectedOptions})]})]})};function Z(e,t,n){if(e===t)return"btn btn-sm btn-danger";switch(n.answered){case"unanswered":return"btn btn-sm btn-outline-dark";case"answered":return"btn btn-sm btn-success";case"answeredandreview":return"btn btn-sm btn-primary";default:return"btn btn-sm btn-warning"}}var F=function(e){var t=e.qas.location.state.questions,n=e.qas.location.state.currentQuestionIndex,a=Object(m.e)();return Object(s.jsx)("div",{className:"col-lg-12",style:{float:"right"},children:Object(s.jsxs)("div",{className:"card col-lg-12",children:[Object(s.jsx)("div",{className:"card-header bg-primary row",style:{color:"white"},children:Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("h6",{children:Object(s.jsx)("b",{children:Object(s.jsx)("center",{children:"Questions"})})})})}),Object(s.jsx)("div",{className:"card-body col-lg-12 row",style:{float:"right",width:"350px"},children:t.map((function(t,c){return Object(s.jsx)("div",{className:"col-lg-2",style:{margin:"2px"},children:Object(s.jsx)("input",{type:"button",className:Z(c,n,t),value:t.qnid_sr,style:{margin:"2px"},onClick:function(){!function(e,t,n){var s={exam:e.qas.location.state.exam,questions:e.qas.location.state.questions,currentQuestionIndex:t,solvedQuestionIndexes:e.qas.location.state.solvedQuestionIndexes,unsolvedQuestionIndexes:e.qas.location.state.unsolvedQuestionIndexes,markedSolvedIndexes:e.qas.location.state.markedSolvedIndexes,markedUnsolvedIndexes:e.qas.location.state.markedUnsolvedIndexes};n.replace("/startexam",s)}(e,c,a)}})},t.qnid_sr)}))})]})})};function G(){return(G=Object(u.a)(l.a.mark((function e(t,n,s,a,c,r,i){var o,d,u,j,m,x,p,h,O,v,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.data.location.state.questions,u=o[d=n-1].answered,j=o[d].id,m="",x=t.data.location.state.unsolvedQuestionIndexes,p=t.data.location.state.solvedQuestionIndexes,h=t.data.location.state.markedUnsolvedIndexes,O=t.data.location.state.markedSolvedIndexes,m="unanswered"===u?"answered":"unansweredandreview"===u?"answeredandreview":u,void 0===c||null===c){e.next=16;break}return v=t.data.location.state.exam.id,e.next=14,b.put("/answer/"+j,{type:"saveanswer",answered:m,stdanswer:c,answer_by:v}).then((function(e){if("success"===e.data.status&&("unanswered"===u?(m="answered",o[d].answered=m,x=x.filter((function(e){return e!==d})),p.push(d),x.sort(),p.sort()):"unansweredandreview"===u?(m="answeredandreview",o[d].answered=m,h=h.filter((function(e){return e!==d})),O.push(d),h.sort(),O.sort()):m=u,n<a)){var c={exam:t.data.location.state.exam,questions:o,currentQuestionIndex:d+1,solvedQuestionIndexes:p,unsolvedQuestionIndexes:x,markedSolvedIndexes:O,markedUnsolvedIndexes:h};t.setMyOption(void 0),s.replace("/startexam",c)}})).catch((function(e){if(429!==e.response.status){var c={},o=W(t.data.location.state.exam);o&&(c={exam:t.data.location.state.exam,questions:o,currentQuestionIndex:d,solvedQuestionIndexes:V(o,"answered"),unsolvedQuestionIndexes:V(o,"unanswered"),markedSolvedIndexes:V(o,"answeredandreview"),markedUnsolvedIndexes:V(o,"unansweredandreview")},t.setMyOption(void 0),s.replace("/startexam",c))}else if(r(!0),i("Server is Busy. Please wait for some Seconds..."),n<a){var l={exam:t.data.location.state.exam,questions:t.data.location.state.questions,currentQuestionIndex:d,solvedQuestionIndexes:t.data.location.state.solvedQuestionIndexes,unsolvedQuestionIndexes:t.data.location.state.unsolvedQuestionIndexes,markedSolvedIndexes:t.data.location.state.markedSolvedIndexes,markedUnsolvedIndexes:t.data.location.state.markedUnsolvedIndexes};t.setMyOption(void 0),s.replace("/startexam",l)}}));case 14:e.next=17;break;case 16:n<a&&(f={exam:t.data.location.state.exam,questions:t.data.location.state.questions,currentQuestionIndex:d+1,solvedQuestionIndexes:t.data.location.state.solvedQuestionIndexes,unsolvedQuestionIndexes:t.data.location.state.unsolvedQuestionIndexes,markedSolvedIndexes:t.data.location.state.markedSolvedIndexes,markedUnsolvedIndexes:t.data.location.state.markedUnsolvedIndexes},t.setMyOption(void 0),s.replace("/startexam",f));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(l.a.mark((function e(t){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,b.get("/answer",{params:{exam_id:n}});case 3:if("success"!==(s=e.sent).data.status){e.next=8;break}return e.abrupt("return",s.data.data);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){var n=[];return e.forEach((function(e,s){e.answered===t&&n.push(s)})),n}var X=function(e){var t=Object(a.useContext)(we),n=t.setShow,c=t.setMsg,r=Object(a.useState)(!1),i=Object(o.a)(r,2),d=i[0],l=i[1],u=parseInt(e.data.location.state.currentQuestionIndex),j=Object(m.e)(),b=parseInt(e.data.location.state.questions.length);return Object(a.useEffect)((function(){l(!(u<b))}),[u,b]),console.log("myOption",e.myOption),Object(s.jsx)("div",{className:"col-lg-3",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(e,t,n,s,a,c,r){G.apply(this,arguments)}(e,u+1,j,b,e.myOption,n,c)},disabled:d,children:"Save & Next"})})},ee=n(78),te=n(77);var ne=function(e){return Object(s.jsx)("div",{className:"col-lg-12",style:{float:"right",marginTop:"10px"},children:Object(s.jsxs)("div",{className:"card col-lg-12",children:[Object(s.jsx)("div",{className:"card-header bg-primary row",style:{color:"white"},children:Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("h6",{children:Object(s.jsx)("b",{children:Object(s.jsx)("center",{children:"Overall Exam Summery"})})})})}),Object(s.jsxs)("div",{className:"card-body col-lg-12 row",style:{float:"right",width:"350px"},children:[Object(s.jsx)("div",{className:"col-lg-2",style:{marginBottom:"5px"},children:Object(s.jsx)("button",{className:"btn btn-danger",style:{height:"30px"},children:parseInt(e.data.location.state.currentQuestionIndex)+1})}),Object(s.jsx)("div",{className:"col-lg-10",style:{fontSize:"8"},children:"Current Question"}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("hr",{})}),Object(s.jsx)("div",{className:"col-lg-2",style:{marginBottom:"5px"},children:Object(s.jsx)("button",{className:"btn btn-sm btn-success",children:e.data.location.state.solvedQuestionIndexes.length})}),Object(s.jsx)("div",{className:"col-lg-10",style:{fontSize:"8"},children:"Attempted"}),Object(s.jsx)("div",{className:"col-lg-2",style:{marginBottom:"5px"},children:Object(s.jsx)("button",{className:"btn btn-sm btn-outline-dark",children:e.data.location.state.unsolvedQuestionIndexes.length})}),Object(s.jsx)("div",{className:"col-lg-10",style:{fontSize:"8"},children:"Not Attempted"}),Object(s.jsx)("div",{className:"col-lg-2",style:{marginBottom:"5px"},children:Object(s.jsx)("button",{className:"btn btn-sm btn-primary",children:e.data.location.state.markedSolvedIndexes.length})}),Object(s.jsx)("div",{className:"col-lg-10",style:{fontSize:"8"},children:"Attempted and Review"}),Object(s.jsx)("div",{className:"col-lg-2",children:Object(s.jsx)("button",{className:"btn btn-sm btn-warning",children:e.data.location.state.markedUnsolvedIndexes.length})}),Object(s.jsx)("div",{className:"col-lg-10",style:{fontSize:"8"},children:"Not Attempted and Review"}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("hr",{})}),Object(s.jsx)("div",{className:"col-lg-12",children:Object(s.jsx)("h6",{children:Object(s.jsxs)("b",{children:["Total Attempted Questions:",parseInt(e.data.location.state.markedSolvedIndexes.length)+parseInt(e.data.location.state.solvedQuestionIndexes.length)]})})})]})]})})};function se(){return(se=Object(u.a)(l.a.mark((function e(t,n){var s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.data.location.state.exam,a=s.id,e.next=4,b.put("/exam/"+a,{status:"end"});case 4:"success"===e.sent.data.status&&n.replace("/studenthome");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),d=Object(o.a)(i,2),l=d[0],u=d[1],j=Object(m.e)(),b=function(){return u(!1)},x=parseInt(e.index),p=parseInt(e.length);return Object(a.useEffect)((function(){r(x===p-1)}),[x,p]),c?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"col-lg-3",children:Object(s.jsx)("button",{className:"btn btn-warning",onClick:function(){return u(!0)},children:"End Exam"})}),Object(s.jsx)(ee.a,{show:l,onHide:b,size:"lg",children:Object(s.jsxs)(ee.a.Body,{children:[Object(s.jsx)(ne,{data:e.data}),Object(s.jsxs)("center",{children:[Object(s.jsx)("h5",{children:"Are you sure to End the Exam?"}),Object(s.jsx)(te.a,{variant:"success",onClick:function(){!function(e,t){se.apply(this,arguments)}(e,j)},children:"Yes"})," \xa0\xa0",Object(s.jsx)(te.a,{variant:"danger",onClick:b,children:"No"})]})]})})]}):null};var ce=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=parseInt(e.data.location.state.currentQuestionIndex),d=Object(m.e)();return Object(a.useEffect)((function(){r(0===i)}),[e,i]),Object(s.jsx)("div",{className:"col-lg-3",children:Object(s.jsx)("button",{className:"btn btn-primary",onClick:function(){e.setMyOption(void 0),function(e,t,n){if(t>=0){var s={exam:e.data.location.state.exam,questions:e.data.location.state.questions,currentQuestionIndex:t,solvedQuestionIndexes:e.data.location.state.solvedQuestionIndexes,unsolvedQuestionIndexes:e.data.location.state.unsolvedQuestionIndexes,markedSolvedIndexes:e.data.location.state.markedSolvedIndexes,markedUnsolvedIndexes:e.data.location.state.markedUnsolvedIndexes};n.replace("/startexam",s)}}(e,i-1,d)},disabled:c,children:"Previous"})})};function re(){return(re=Object(u.a)(l.a.mark((function e(t,n,s,a,c,r){var i,o,d,u,j,m,x,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.data.location.state.questions,o=i[n].answered,d=i[n].id,u="unanswered",j=s.data.location.state.unsolvedQuestionIndexes,m=s.data.location.state.solvedQuestionIndexes,x=s.data.location.state.markedUnsolvedIndexes,p=s.data.location.state.markedSolvedIndexes,"answered"===o?(u="answeredandreview",m=m.filter((function(e){return e!==n})),p.push(n)):"unanswered"===o?(u="unansweredandreview",j=j.filter((function(e){return e!==n})),x.push(n)):"answeredandreview"===o?(u="answered",p=p.filter((function(e){return e!==n})),m.push(n)):"unansweredandreview"===o&&(u="unanswered",x=x.filter((function(e){return e!==n})),j.push(n)),x.sort(),p.sort(),m.sort(),j.sort(),i[n].answered=u,e.next=16,b.put("/answer/"+d,{type:"savereview",answered:u}).then((function(e){if("success"===e.data.status){var t={exam:s.data.location.state.exam,questions:i,currentQuestionIndex:n,solvedQuestionIndexes:m,unsolvedQuestionIndexes:j,markedSolvedIndexes:p,markedUnsolvedIndexes:x};a.replace("/startexam",t)}})).catch((function(e){var t={exam:s.data.location.state.exam,questions:s.data.location.state.questions,currentQuestionIndex:n,solvedQuestionIndexes:s.data.location.state.solvedQuestionIndexes,unsolvedQuestionIndexes:s.data.location.state.unsolvedQuestionIndexes,markedSolvedIndexes:s.data.location.state.markedSolvedIndexes,markedUnsolvedIndexes:s.data.location.state.markedUnsolvedIndexes};a.replace("/startexam",t)}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(e){var t=e.myReviewQuestions,n=e.index,a=Object(m.e)(),c=t[n];return Object(s.jsxs)("div",{className:"col-lg-3",children:[Object(s.jsx)("input",{type:"checkbox",name:"reviewlater",checked:c,onChange:function(){!function(e,t,n,s,a,c){re.apply(this,arguments)}(c,n,e,a)}})," To be Reviewed Later"]})},oe=n(121),de=n.n(oe);function le(){return(le=Object(u.a)(l.a.mark((function e(t,n){var s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.data.location.state.exam,a=s.id,e.next=4,b.put("/exam/"+a,{status:"end"});case 4:"success"===e.sent.data.status&&n.replace("/studenthome");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(u.a)(l.a.mark((function e(t,n,s){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=60*s,e.next=3,b.get("/examSession",{params:{exam_id:n}}).then((function(e){var n=e.data;t(a-n.elapsedTime)})).catch((function(e){console.log(e.response.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(u.a)(l.a.mark((function e(t,n,s){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=60*s,e.next=3,b.put("/examSession",{exam_id:n}).then((function(e){var n=e.data;t(a-n.elapsedTime)})).catch((function(e){console.log(e.response.status)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],r=n[1],i=e.data.location.state.exam,d=i.id,l=i.paper.duration,u=Object(m.e)();return Object(a.useEffect)((function(){!function(e,t,n){ue.apply(this,arguments)}(r,d,l);var e=setInterval((function(){!function(e,t,n){je.apply(this,arguments)}(r,d,l)}),"1500");return function(){clearInterval(e)}}),[d,l]),c?Object(s.jsx)(de.a,{count:c,hideDay:!0,size:20,backgroundColor:"#007bff",color:"#ffffff",onEnd:function(){!function(e,t){le.apply(this,arguments)}(e,u)}}):null};var me=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,s,a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.myParameter.location.state.exam,s=t.currentTarget.myParameter.location.state.exam.paper.exam_switch_alerts,a=t.currentTarget.myHistory,c=n.id,r=t.currentTarget.setShow,i=t.currentTarget.setMsg,e.next=8,b.put("/exam/"+c,{status:"windowswitch"}).then((function(e){"success"===e.data.status&&(parseInt(e.data.switchedcount)===parseInt(s)?xe(n,a,r,i,e.data.switchedcount):parseInt(e.data.switchedcount)+5===parseInt(s)?alert("Your Window switching limit is about to expire. Continuing switching window now will end your Examination abruptly."):alert("Please do not switch window while exam is in progress. This Event will be Recorded."))})).catch((function(e){alert("Please do not switch window while exam is in progress.")}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function xe(e,t,n,s,a){return pe.apply(this,arguments)}function pe(){return(pe=Object(u.a)(l.a.mark((function e(t,n,s,a,c){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,b.put("/exam/"+r,{status:"end"}).then((function(e){"success"===e.data.status&&(s(!0),a("Your Examination is Ended abruptly because you switched window "+c+" times."),n.replace("/studenthome"))})).catch((function(e){alert("Please do not switch window while exam is in progress.")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=function(e){var t=Object(a.useContext)(we),n=t.setShow,c=t.setMsg,r=Object(m.e)(),i=Object(a.useState)(),d=Object(o.a)(i,2),l=d[0],u=d[1];if(e.location.state)var j=function(e){var t={};return e.map((function(e,n){t[n]=e.stdanswer})),t}(e.location.state.questions),b=e.location.state.currentQuestionIndex,x=function(e){var t=[];return e.map((function(e,n){e.answered.indexOf("review")>=0?t[n]=!0:t[n]=!1})),t}(e.location.state.questions);var p=Object(a.useState)(j),h=Object(o.a)(p,2),O=h[0],v=h[1];return Object(a.useEffect)((function(){l&&v((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(D.a)({},b,l))}))}),[l]),Object(a.useEffect)((function(){return window.addEventListener("blur",me),window.myParameter=e,window.setShow=n,window.setMsg=c,window.myHistory=r,function(){window.removeEventListener("blur",me),window.myParameter="",window.setShow="",window.setMsg="",window.myHistory=""}})),e.location.state?Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"card col-lg-12",children:Object(s.jsxs)("div",{className:"card-header bg-primary row",style:{color:"white"},children:[Object(s.jsx)("div",{className:"col-lg-8",children:Object(s.jsx)("h5",{children:Object(s.jsxs)("b",{children:["Exam Name: ",e.location.state.exam.paper.paper_name]})})}),Object(s.jsxs)("div",{className:"col-lg-4",children:[Object(s.jsx)("i",{className:"fas fa-clock fa-lg"})," \xa0\xa0",Object(s.jsx)(be,{data:e})]})]})}),Object(s.jsx)("div",{className:"card col-lg-8",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)($,{questions:e,setMyOption:u,selectedOptions:O}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"col-lg-12 row",children:[Object(s.jsx)(ce,{data:e,setMyOption:u}),Object(s.jsx)(X,{data:e,myOption:l,setMyOption:u}),Object(s.jsx)(ae,{index:b,length:e.location.state.questions.length,data:e}),Object(s.jsx)(ie,{data:e,myReviewQuestions:x,index:b})]})]})}),Object(s.jsxs)("div",{className:"col-lg-4",style:{float:"right"},children:[Object(s.jsx)(F,{qas:e}),Object(s.jsx)(ne,{data:e})]})]}):null};var Oe=function(){return Object(s.jsxs)("div",{id:"layoutSidenav",children:[Object(s.jsx)("div",{id:"layoutSidenav_nav",children:Object(s.jsx)(h,{})}),Object(s.jsxs)("div",{id:"layoutSidenav_content",children:[Object(s.jsxs)("main",{children:[Object(s.jsx)(m.a,{exact:!0,path:"/",component:w}),Object(s.jsx)(m.a,{exact:!0,path:"/login",component:w}),Object(s.jsx)(m.a,{exact:!0,path:"/studenthome",component:C}),Object(s.jsx)(m.a,{exact:!0,path:"/instructions",component:A}),Object(s.jsx)(m.a,{exact:!0,path:"/startexam",component:he})]}),Object(s.jsx)("footer",{className:"py-4 bg-light mt-auto",children:Object(s.jsx)(O,{})})]})]})},ve=n(123);var fe=function(e){return e.myShow&&e.myMsg?Object(s.jsx)(ve.a,{variant:"dark",onClose:function(){return e.mySetShow(!1)},dismissible:!0,style:{position:"fixed",top:"83%",width:"58%",left:"22%",zIndex:"99999"},children:e.myMsg}):null},ge=n(13),we=c.a.createContext(),ye=Object(ge.a)({});var Ne=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(o.a)(r,2),d=i[0],l=i[1];return function(e,t){b.interceptors.request.use((function(e){if("/"!==ye.location.pathname){var t=JSON.parse(localStorage.getItem("token"));t&&(e.headers.Authorization="Bearer "+t)}return e}),(function(e){return Promise.reject(e)})),b.interceptors.response.use((function(e){return e}),(function(n){var s=n.response.status;return 401===s?ye.replace("/login"):429===s&&(e(!0),t("Server is Busy. Please wait for some seconds...")),Promise.reject(n)}))}(c,l),Object(s.jsx)("div",{children:Object(s.jsxs)(m.b,{history:ye,children:[Object(s.jsxs)(we.Provider,{value:{setShow:c,setMsg:l},children:[Object(s.jsx)(p,{}),Object(s.jsx)(Oe,{})]}),Object(s.jsx)(fe,{myShow:n,mySetShow:c,myMsg:d})]})})};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(Ne,{})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.af22c762.chunk.js.map